<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form HIRADC - Input Risiko Lengkap</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #f5f5f5;
            color: #333;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 210px;
            background: white;
            border-right: 1px solid #e0e0e0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .logo-section {
            padding: 30px 20px;
            border-bottom: 1px solid #e0e0e0;
            text-align: center;
        }

        .logo-circle {
            width: 70px;
            height: 70px;
            background: #000;
            border-radius: 50%;
            margin: 0 auto 15px;
        }

        .logo-text {
            font-size: 18px;
            font-weight: 700;
            color: #c41e3a;
            margin-bottom: 3px;
        }

        .logo-subtext {
            font-size: 12px;
            color: #999;
            font-style: italic;
        }

        .nav-menu {
            padding: 20px 0;
        }

        .nav-item {
            padding: 15px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #666;
            font-size: 14px;
            font-weight: 500;
            text-decoration: none;
        }

        .nav-item:hover {
            background: #fff5f5;
            color: #c41e3a;
        }

        .nav-item.active {
            background: #ffe5e5;
            color: #c41e3a;
            border-left: 3px solid #c41e3a;
        }

        .nav-item i {
            width: 20px;
            text-align: center;
            font-size: 16px;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 210px;
        }

        .header {
            background: white;
            padding: 25px 40px;
            border-bottom: 1px solid #e0e0e0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header h1 {
            font-size: 24px;
            font-weight: 700;
            color: #333;
        }

        .content-area {
            padding: 30px 40px;
            max-width: 1400px;
        }

        /* Form Container */
        .form-container {
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .required {
            color: #c41e3a;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            font-family: 'Inter', sans-serif;
            transition: border-color 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: #c41e3a;
        }

        select.form-control {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 15px center;
            padding-right: 40px;
        }

        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .form-row-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        /* Section Headers */
        .section-header {
            background: #f8f8f8;
            padding: 15px 20px;
            border-left: 4px solid #c41e3a;
            margin: 30px 0 20px 0;
            border-radius: 4px;
        }

        .section-header h2 {
            font-size: 16px;
            font-weight: 700;
            color: #333;
            margin-bottom: 3px;
        }

        .section-header p {
            font-size: 12px;
            color: #666;
        }

        /* Checkbox Groups */
        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .checkbox-item:hover {
            background: #f9f9f9;
            border-color: #c41e3a;
        }

        .checkbox-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .checkbox-item label {
            cursor: pointer;
            margin: 0;
            font-weight: 500;
        }

        /* Dropdown Container for Dynamic Options */
        .dynamic-dropdown {
            margin-top: 10px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 6px;
            display: none;
        }

        .dynamic-dropdown.active {
            display: block;
        }

        /* Button Groups */
        .button-group {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .btn-toggle {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            font-size: 14px;
            text-align: center;
        }

        .btn-toggle:hover {
            border-color: #c41e3a;
            background: #fff5f5;
        }

        .btn-toggle.active {
            border-color: #c41e3a;
            background: #c41e3a;
            color: white;
        }

        /* Risk Matrix */
        .risk-matrix {
            margin: 20px 0;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
        }

        .matrix-grid {
            display: grid;
            grid-template-columns: 100px repeat(5, 1fr);
            gap: 5px;
            margin-top: 15px;
        }

        .matrix-label {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 600;
            padding: 8px;
            text-align: center;
        }

        .matrix-cell {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 700;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .matrix-cell:hover {
            transform: scale(1.05);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .matrix-cell.selected {
            border: 3px solid #000;
            transform: scale(1.1);
        }

        /* Risk levels */
        .risk-low {
            background: #4caf50;
            color: white;
        }

        .risk-medium {
            background: #ffeb3b;
            color: #333;
        }

        .risk-high {
            background: #ff9800;
            color: white;
        }

        .risk-extreme {
            background: #f44336;
            color: white;
        }

        /* Risk Result Display */
        .risk-result {
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            font-size: 16px;
            font-weight: 700;
        }

        /* Form Actions */
        .form-actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #e0e0e0;
        }

        .btn {
            padding: 12px 30px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            font-family: 'Inter', sans-serif;
        }

        .btn-secondary {
            background: white;
            color: #666;
            border: 1px solid #ddd;
        }

        .btn-secondary:hover {
            background: #f5f5f5;
        }

        .btn-primary {
            background: #c41e3a;
            color: white;
        }

        .btn-primary:hover {
            background: #a01729;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(196, 30, 58, 0.3);
        }

        .help-text {
            font-size: 12px;
            color: #999;
            margin-top: 5px;
        }

        .hidden {
            display: none;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                width: 70px;
            }

            .main-content {
                margin-left: 70px;
            }

            .logo-text,
            .logo-subtext,
            .nav-item span {
                display: none;
            }

            .form-row,
            .form-row-3 {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo-section">
                <div class="logo-circle"></div>
                <div class="logo-text">HIRADC</div>
                <div class="logo-subtext">System</div>
            </div>

            <nav class="nav-menu">
                <a href="hiradc-user-dashboard-v3.html" class="nav-item">
                    <i class="fas fa-th-large"></i>
                    <span>Dashboard</span>
                </a>
                <a href="hiradc-my-documents-v2.html" class="nav-item">
                    <i class="fas fa-folder-open"></i>
                    <span>Dokumen Saya</span>
                </a>
                <a href="hiradc-form-complete.html" class="nav-item active">
                    <i class="fas fa-plus-circle"></i>
                    <span>Buat Dokumen Baru</span>
                </a>
            </nav>

            <!-- User Info at Bottom -->
            <div class="user-info-bottom">
                <div class="user-profile">
                    <div class="user-avatar">JD</div>
                    <div class="user-details">
                        <div class="user-name">John Doe</div>
                        <div class="user-role">Staff Unit Kerja</div>
                    </div>
                </div>
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Keluar
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="header">
                <h1>Form Input Risiko HIRADC</h1>
            </div>

            <div class="content-area">
                <form id="hiradcForm" class="form-container">

                    <!-- KOLOM 2: Proses Bisnis/Kegiatan/Aset -->
                    <div class="section-header">
                        <h2>üìã Kolom 2: Proses Bisnis / Kegiatan / Aset</h2>
                        <p>Pilih proses bisnis, lalu centang kegiatan yang sesuai</p>
                    </div>

                    <div class="form-group">
                        <label>Pilih Proses Bisnis <span class="required">*</span></label>
                        <select class="form-control" id="kolom2_proses" required onchange="showActivityOptions()">
                            <option value="">-- Pilih Proses Bisnis --</option>
                            <option value="PERPUSTAKAAN">PERPUSTAKAAN</option>
                            <option value="LABORATORIUM">LABORATORIUM</option>
                            <option value="LISTRIK">LISTRIK</option>
                            <option value="SATPAM">SATPAM</option>
                            <option value="PRODUKSI">PRODUKSI</option>
                            <option value="SAAT OVERHAUL">SAAT OVERHAUL</option>
                            <option value="SAAT TROUBLE SHOOTING">SAAT TROUBLE SHOOTING</option>
                            <option value="POOL KENDARAAN">POOL KENDARAAN</option>
                        </select>
                    </div>

                    <!-- Activity Options Container -->
                    <div id="activity_options_container" class="hidden" style="margin-top: 20px;">
                        <div class="form-group">
                            <label>Pilih Kegiatan yang Sesuai <span class="required">*</span></label>
                            <p class="help-text">Centang satu atau lebih kegiatan yang sesuai dengan proses bisnis</p>

                            <div class="checkbox-group" id="activity_checkboxes">
                                <!-- Checkboxes will be populated by JavaScript -->
                            </div>

                            <!-- Manual Input for Other Activities -->
                            <div class="form-group" style="margin-top: 15px;">
                                <label>Atau Input Kegiatan Lainnya (Opsional)</label>
                                <input type="text" class="form-control" id="kolom2_activity_manual"
                                    placeholder="Masukkan kegiatan lain jika tidak ada di list...">
                            </div>
                        </div>
                    </div>

                    <!-- KOLOM 3: Lokasi/Area Kerja -->
                    <div class="section-header">
                        <h2>üìç Kolom 3: Lokasi / Area Kerja</h2>
                        <p>Input manual lokasi atau area kerja</p>
                    </div>

                    <div class="form-group">
                        <label>Lokasi / Area Kerja <span class="required">*</span></label>
                        <input type="text" class="form-control" id="kolom3_lokasi"
                            placeholder="Contoh: Gedung A Lantai 2, Area Produksi, dll" required>
                    </div>

                    <!-- KOLOM 4: Kategori Dokumen -->
                    <div class="section-header">
                        <h2>üìë Kolom 4: Kategori Dokumen</h2>
                        <p>Pilih jenis dokumen risiko</p>
                    </div>

                    <div class="form-group">
                        <label>Jenis Dokumen <span class="required">*</span></label>
                        <select class="form-control" id="kolom4_kategori" required>
                            <option value="">-- Pilih Kategori --</option>
                            <option value="K3">K3 - Kesehatan & Keselamatan Kerja</option>
                            <option value="KO">KO - Keselamatan Operasional</option>
                            <option value="Lingkungan">Lingkungan - Dampak Lingkungan</option>
                            <option value="Keamanan">Keamanan - Keamanan & Proteksi</option>
                        </select>
                    </div>

                    <!-- KOLOM 5: Kondisi -->
                    <div class="section-header">
                        <h2>‚öôÔ∏è Kolom 5: Kondisi</h2>
                        <p>Pilih kondisi kegiatan yang sesuai</p>
                    </div>

                    <div class="form-group">
                        <label>Kondisi <span class="required">*</span></label>
                        <select class="form-control" id="kolom5_kondisi" required>
                            <option value="">-- Pilih Kondisi --</option>
                            <option value="R">R - Rutin (Kegiatan sehari-hari terkait operasi khusus K3)</option>
                            <option value="NR">NR - Non Rutin (Kegiatan diluar operasi, maintenance tidak terjadwal,
                                shut down, mati listrik, dll)</option>
                            <option value="N">N - Normal (Kegiatan rutin dan non-rutin berjalan sesuai standar)</option>
                            <option value="TN">TN - Tidak Normal (Kegiatan rutin dan non-rutin tidak sesuai standar)
                            </option>
                            <option value="EM">EM - Emergency (Potensi bahaya muncul saat emergency/tanggap darurat)
                            </option>
                        </select>
                    </div>

                    <!-- KOLOM 6: Jenis Bahaya -->
                    <div class="section-header">
                        <h2>‚ö†Ô∏è Kolom 6: Jenis Bahaya</h2>
                        <p>Pilih jenis bahaya: Unsafe Condition atau Unsafe Action, lalu pilih kategori bahaya</p>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn-toggle" id="btn_unsafe_condition"
                            onclick="selectBahayaType('condition')">
                            Bahaya (Unsafe Condition)
                        </button>
                        <button type="button" class="btn-toggle" id="btn_unsafe_action"
                            onclick="selectBahayaType('action')">
                            Bahaya (Unsafe Action)
                        </button>
                    </div>

                    <!-- Unsafe Condition Options -->
                    <div id="unsafe_condition_options" class="hidden">
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="bahaya_fisika" onchange="toggleBahayaDropdown('fisika')">
                                <label for="bahaya_fisika">Bahaya Fisika</label>
                            </div>
                            <div class="dynamic-dropdown" id="dropdown_fisika">
                                <label>Pilih Contoh Bahaya Fisika:</label>
                                <select class="form-control" id="select_fisika" multiple size="5">
                                    <option value="Kebisingan">Kebisingan</option>
                                    <option value="Getaran">Getaran</option>
                                    <option value="Suhu ekstrim">Suhu ekstrim</option>
                                    <option value="Pencahayaan kurang">Pencahayaan kurang</option>
                                    <option value="Radiasi">Radiasi</option>
                                </select>
                                <input type="text" class="form-control" style="margin-top: 10px;"
                                    placeholder="Atau input manual jika tidak ada di list">
                            </div>

                            <div class="checkbox-item">
                                <input type="checkbox" id="bahaya_kimia" onchange="toggleBahayaDropdown('kimia')">
                                <label for="bahaya_kimia">Bahaya Kimia</label>
                            </div>
                            <div class="dynamic-dropdown" id="dropdown_kimia">
                                <label>Pilih Contoh Bahaya Kimia:</label>
                                <select class="form-control" id="select_kimia" multiple size="5">
                                    <option value="Gas beracun">Gas beracun</option>
                                    <option value="Cairan korosif">Cairan korosif</option>
                                    <option value="Debu kimia">Debu kimia</option>
                                    <option value="Asap berbahaya">Asap berbahaya</option>
                                    <option value="Bahan mudah terbakar">Bahan mudah terbakar</option>
                                </select>
                                <input type="text" class="form-control" style="margin-top: 10px;"
                                    placeholder="Atau input manual jika tidak ada di list">
                            </div>

                            <div class="checkbox-item">
                                <input type="checkbox" id="bahaya_biologi" onchange="toggleBahayaDropdown('biologi')">
                                <label for="bahaya_biologi">Bahaya Biologi</label>
                            </div>
                            <div class="dynamic-dropdown" id="dropdown_biologi">
                                <label>Pilih Contoh Bahaya Biologi:</label>
                                <select class="form-control" id="select_biologi" multiple size="5">
                                    <option value="Bakteri">Bakteri</option>
                                    <option value="Virus">Virus</option>
                                    <option value="Jamur">Jamur</option>
                                    <option value="Parasit">Parasit</option>
                                    <option value="Limbah medis">Limbah medis</option>
                                </select>
                                <input type="text" class="form-control" style="margin-top: 10px;"
                                    placeholder="Atau input manual jika tidak ada di list">
                            </div>

                            <div class="checkbox-item">
                                <input type="checkbox" id="bahaya_ergonomi" onchange="toggleBahayaDropdown('ergonomi')">
                                <label for="bahaya_ergonomi">Bahaya Ergonomi</label>
                            </div>
                            <div class="dynamic-dropdown" id="dropdown_ergonomi">
                                <label>Pilih Contoh Bahaya Ergonomi:</label>
                                <select class="form-control" id="select_ergonomi" multiple size="5">
                                    <option value="Posisi kerja tidak ergonomis">Posisi kerja tidak ergonomis</option>
                                    <option value="Gerakan berulang">Gerakan berulang</option>
                                    <option value="Mengangkat beban berat">Mengangkat beban berat</option>
                                    <option value="Kursi tidak ergonomis">Kursi tidak ergonomis</option>
                                </select>
                                <input type="text" class="form-control" style="margin-top: 10px;"
                                    placeholder="Atau input manual jika tidak ada di list">
                            </div>

                            <div class="checkbox-item">
                                <input type="checkbox" id="bahaya_psikososial"
                                    onchange="toggleBahayaDropdown('psikososial')">
                                <label for="bahaya_psikososial">Bahaya Psikososial</label>
                            </div>
                            <div class="dynamic-dropdown" id="dropdown_psikososial">
                                <label>Pilih Contoh Bahaya Psikososial:</label>
                                <select class="form-control" id="select_psikososial" multiple size="5">
                                    <option value="Stres kerja">Stres kerja</option>
                                    <option value="Beban kerja berlebih">Beban kerja berlebih</option>
                                    <option value="Konflik interpersonal">Konflik interpersonal</option>
                                    <option value="Jam kerja panjang">Jam kerja panjang</option>
                                </select>
                                <input type="text" class="form-control" style="margin-top: 10px;"
                                    placeholder="Atau input manual jika tidak ada di list">
                            </div>
                        </div>
                    </div>

                    <!-- Unsafe Action Options -->
                    <div id="unsafe_action_options" class="hidden">
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="action_prosedur" onchange="toggleBahayaDropdown('prosedur')">
                                <label for="action_prosedur">Tidak Mengikuti Prosedur</label>
                            </div>
                            <div class="dynamic-dropdown" id="dropdown_prosedur">
                                <label>Pilih Contoh:</label>
                                <select class="form-control" id="select_prosedur" multiple size="5">
                                    <option value="Tidak menggunakan APD">Tidak menggunakan APD</option>
                                    <option value="Mengabaikan SOP">Mengabaikan SOP</option>
                                    <option value="Bekerja tanpa izin">Bekerja tanpa izin</option>
                                    <option value="Shortcut berbahaya">Mengambil jalan pintas berbahaya</option>
                                </select>
                                <input type="text" class="form-control" style="margin-top: 10px;"
                                    placeholder="Atau input manual jika tidak ada di list">
                            </div>

                            <div class="checkbox-item">
                                <input type="checkbox" id="action_kecerobohan"
                                    onchange="toggleBahayaDropdown('kecerobohan')">
                                <label for="action_kecerobohan">Kecerobohan</label>
                            </div>
                            <div class="dynamic-dropdown" id="dropdown_kecerobohan">
                                <label>Pilih Contoh:</label>
                                <select class="form-control" id="select_kecerobohan" multiple size="5">
                                    <option value="Bekerja sambil mengantuk">Bekerja sambil mengantuk</option>
                                    <option value="Tidak fokus">Tidak fokus/terganggu</option>
                                    <option value="Terburu-buru">Terburu-buru</option>
                                    <option value="Kurang pelatihan">Kurang pelatihan</option>
                                </select>
                                <input type="text" class="form-control" style="margin-top: 10px;"
                                    placeholder="Atau input manual jika tidak ada di list">
                            </div>
                        </div>
                    </div>

                    <!-- KOLOM 7: Dampak/Risiko -->
                    <div class="section-header">
                        <h2>üí• Kolom 7: Dampak / Risiko Potensial</h2>
                        <p>Pilih kategori dampak dan contoh dampak yang mungkin terjadi</p>
                    </div>

                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="dampak_manusia"
                                onchange="toggleBahayaDropdown('dampak_manusia')">
                            <label for="dampak_manusia">Dampak terhadap Manusia</label>
                        </div>
                        <div class="dynamic-dropdown" id="dropdown_dampak_manusia">
                            <label>Pilih Contoh Dampak:</label>
                            <select class="form-control" id="select_dampak_manusia" multiple size="5">
                                <option value="Cedera ringan">Cedera ringan</option>
                                <option value="Cedera berat">Cedera berat</option>
                                <option value="Kematian">Kematian</option>
                                <option value="Penyakit akibat kerja">Penyakit akibat kerja</option>
                                <option value="Gangguan kesehatan">Gangguan kesehatan</option>
                            </select>
                            <input type="text" class="form-control" style="margin-top: 10px;"
                                placeholder="Atau input manual jika tidak ada di list">
                        </div>

                        <div class="checkbox-item">
                            <input type="checkbox" id="dampak_lingkungan"
                                onchange="toggleBahayaDropdown('dampak_lingkungan')">
                            <label for="dampak_lingkungan">Dampak terhadap Lingkungan</label>
                        </div>
                        <div class="dynamic-dropdown" id="dropdown_dampak_lingkungan">
                            <label>Pilih Contoh Dampak:</label>
                            <select class="form-control" id="select_dampak_lingkungan" multiple size="5">
                                <option value="Pencemaran air">Pencemaran air</option>
                                <option value="Pencemaran udara">Pencemaran udara</option>
                                <option value="Pencemaran tanah">Pencemaran tanah</option>
                                <option value="Kerusakan ekosistem">Kerusakan ekosistem</option>
                            </select>
                            <input type="text" class="form-control" style="margin-top: 10px;"
                                placeholder="Atau input manual jika tidak ada di list">
                        </div>

                        <div class="checkbox-item">
                            <input type="checkbox" id="dampak_aset" onchange="toggleBahayaDropdown('dampak_aset')">
                            <label for="dampak_aset">Dampak terhadap Aset/Properti</label>
                        </div>
                        <div class="dynamic-dropdown" id="dropdown_dampak_aset">
                            <label>Pilih Contoh Dampak:</label>
                            <select class="form-control" id="select_dampak_aset" multiple size="5">
                                <option value="Kerusakan peralatan">Kerusakan peralatan</option>
                                <option value="Kerusakan bangunan">Kerusakan bangunan</option>
                                <option value="Kerugian finansial">Kerugian finansial</option>
                                <option value="Gangguan operasional">Gangguan operasional</option>
                            </select>
                            <input type="text" class="form-control" style="margin-top: 10px;"
                                placeholder="Atau input manual jika tidak ada di list">
                        </div>

                        <div class="checkbox-item">
                            <input type="checkbox" id="dampak_reputasi"
                                onchange="toggleBahayaDropdown('dampak_reputasi')">
                            <label for="dampak_reputasi">Dampak terhadap Reputasi</label>
                        </div>
                        <div class="dynamic-dropdown" id="dropdown_dampak_reputasi">
                            <label>Pilih Contoh Dampak:</label>
                            <select class="form-control" id="select_dampak_reputasi" multiple size="5">
                                <option value="Penurunan kepercayaan publik">Penurunan kepercayaan publik</option>
                                <option value="Sanksi hukum">Sanksi hukum</option>
                                <option value="Pemberitaan negatif">Pemberitaan negatif media</option>
                                <option value="Kehilangan pelanggan">Kehilangan pelanggan</option>
                            </select>
                            <input type="text" class="form-control" style="margin-top: 10px;"
                                placeholder="Atau input manual jika tidak ada di list">
                        </div>
                    </div>

                    <!-- KOLOM 7: Dampak/Konsekuensi -->
                    <div class="section-header">
                        <h2 id="kolom7_title">üí• Kolom 7: Dampak / Konsekuensi</h2>
                        <p id="kolom7_desc">Jelaskan dampak atau konsekuensi yang mungkin terjadi</p>
                    </div>

                    <div class="form-group">
                        <label id="kolom7_label">Dampak / Konsekuensi <span class="required">*</span></label>
                        <textarea class="form-control" id="kolom7_dampak" required
                            placeholder="Jelaskan dampak yang mungkin terjadi akibat bahaya tersebut..."></textarea>
                    </div>

                    <!-- KOLOM 8: Pihak Terkena Dampak -->
                    <div class="section-header">
                        <h2>üë• Kolom 8: Pihak Terkena Dampak</h2>
                        <p>Pilih pihak yang berpotensi terkena dampak</p>
                    </div>

                    <div class="form-group">
                        <label>Pilih Pihak Terkena <span class="required">*</span></label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="pihak_pekerja" value="Pekerja">
                                <label for="pihak_pekerja">Pekerja Internal</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="pihak_kontraktor" value="Kontraktor">
                                <label for="pihak_kontraktor">Kontraktor</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="pihak_pengunjung" value="Pengunjung">
                                <label for="pihak_pengunjung">Pengunjung</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="pihak_masyarakat" value="Masyarakat">
                                <label for="pihak_masyarakat">Masyarakat Sekitar</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="pihak_lingkungan" value="Lingkungan">
                                <label for="pihak_lingkungan">Lingkungan</label>
                            </div>
                        </div>
                        <input type="text" class="form-control" id="pihak_lainnya" style="margin-top: 10px;"
                            placeholder="Atau sebutkan pihak lainnya...">
                    </div>

                    <!-- KOLOM 9: Identifikasi Risiko (Category-specific) -->
                    <div class="section-header">
                        <h2 id="kolom9_title">üîç Kolom 9: Identifikasi Risiko K3/KO</h2>
                        <p id="kolom9_desc">Identifikasi risiko yang mungkin terjadi</p>
                    </div>

                    <div class="form-group">
                        <label id="kolom9_label">Identifikasi Risiko <span class="required">*</span></label>
                        <textarea class="form-control" id="kolom9_risiko" required
                            placeholder="Jelaskan risiko yang teridentifikasi..."></textarea>
                    </div>

                    <!-- KOLOM 10: Hirarki Pengendalian -->
                    <div class="section-header">
                        <h2>üõ°Ô∏è Kolom 10: Hirarki Pengendalian Risiko</h2>
                        <p>Pilih tingkat pengendalian yang akan diterapkan</p>
                    </div>

                    <div class="form-group">
                        <label>Hirarki Pengendalian <span class="required">*</span></label>
                        <select class="form-control" id="kolom10_hirarki" required>
                            <option value="">-- Pilih Hirarki Pengendalian --</option>
                            <option value="Eliminasi">1. Eliminasi - Menghilangkan bahaya sepenuhnya</option>
                            <option value="Substitusi">2. Substitusi - Mengganti dengan yang lebih aman</option>
                            <option value="Rekayasa Teknik">3. Rekayasa Teknik - Modifikasi teknis</option>
                            <option value="Administratif">4. Administratif - Prosedur dan pelatihan</option>
                            <option value="APD">5. APD - Alat Pelindung Diri</option>
                        </select>
                    </div>

                    <!-- KOLOM 11: Pengendalian yang Sudah Dilakukan -->
                    <div class="section-header">
                        <h2>‚úÖ Kolom 11: Pengendalian yang Sudah Dilakukan</h2>
                        <p>Jelaskan pengendalian yang sudah diterapkan saat ini</p>
                    </div>

                    <div class="form-group">
                        <label>Pengendalian Existing <span class="required">*</span></label>
                        <textarea class="form-control" id="kolom11_pengendalian" required
                            placeholder="Jelaskan pengendalian yang sudah diterapkan..."></textarea>
                    </div>

                    <!-- KOLOM 10-11: Penilaian Risiko (Likelihood & Severity) -->
                    <div class="section-header">
                        <h2>üìä Kolom 10-11: Penilaian Tingkat Risiko</h2>
                        <p>Tentukan tingkat kemungkinan (Likelihood) dan keparahan (Severity)</p>
                    </div>

                    <div class="risk-matrix">
                        <h3 style="font-size: 14px; margin-bottom: 10px; font-weight: 600;">Matriks Penilaian Risiko
                        </h3>
                        <p style="font-size: 12px; color: #666; margin-bottom: 15px;">Klik pada sel untuk memilih
                            kombinasi Kemungkinan (Likelihood) dan Keparahan (Severity)</p>

                        <div class="matrix-grid">
                            <!-- Header row -->
                            <div class="matrix-label"></div>
                            <div class="matrix-label">1<br>Sangat<br>Rendah</div>
                            <div class="matrix-label">2<br>Rendah</div>
                            <div class="matrix-label">3<br>Sedang</div>
                            <div class="matrix-label">4<br>Tinggi</div>
                            <div class="matrix-label">5<br>Sangat<br>Tinggi</div>

                            <!-- Row 5 -->
                            <div class="matrix-label">5 - Sangat Sering</div>
                            <div class="matrix-cell risk-medium" data-l="5" data-s="1" data-score="5">5</div>
                            <div class="matrix-cell risk-high" data-l="5" data-s="2" data-score="10">10</div>
                            <div class="matrix-cell risk-high" data-l="5" data-s="3" data-score="15">15</div>
                            <div class="matrix-cell risk-extreme" data-l="5" data-s="4" data-score="20">20</div>
                            <div class="matrix-cell risk-extreme" data-l="5" data-s="5" data-score="25">25</div>

                            <!-- Row 4 -->
                            <div class="matrix-label">4 - Sering</div>
                            <div class="matrix-cell risk-medium" data-l="4" data-s="1" data-score="4">4</div>
                            <div class="matrix-cell risk-medium" data-l="4" data-s="2" data-score="8">8</div>
                            <div class="matrix-cell risk-high" data-l="4" data-s="3" data-score="12">12</div>
                            <div class="matrix-cell risk-high" data-l="4" data-s="4" data-score="16">16</div>
                            <div class="matrix-cell risk-extreme" data-l="4" data-s="5" data-score="20">20</div>

                            <!-- Row 3 -->
                            <div class="matrix-label">3 - Mungkin</div>
                            <div class="matrix-cell risk-low" data-l="3" data-s="1" data-score="3">3</div>
                            <div class="matrix-cell risk-medium" data-l="3" data-s="2" data-score="6">6</div>
                            <div class="matrix-cell risk-medium" data-l="3" data-s="3" data-score="9">9</div>
                            <div class="matrix-cell risk-high" data-l="3" data-s="4" data-score="12">12</div>
                            <div class="matrix-cell risk-high" data-l="3" data-s="5" data-score="15">15</div>

                            <!-- Row 2 -->
                            <div class="matrix-label">2 - Jarang</div>
                            <div class="matrix-cell risk-low" data-l="2" data-s="1" data-score="2">2</div>
                            <div class="matrix-cell risk-low" data-l="2" data-s="2" data-score="4">4</div>
                            <div class="matrix-cell risk-medium" data-l="2" data-s="3" data-score="6">6</div>
                            <div class="matrix-cell risk-medium" data-l="2" data-s="4" data-score="8">8</div>
                            <div class="matrix-cell risk-high" data-l="2" data-s="5" data-score="10">10</div>

                            <!-- Row 1 -->
                            <div class="matrix-label">1 - Sangat Jarang</div>
                            <div class="matrix-cell risk-low" data-l="1" data-s="1" data-score="1">1</div>
                            <div class="matrix-cell risk-low" data-l="1" data-s="2" data-score="2">2</div>
                            <div class="matrix-cell risk-low" data-l="1" data-s="3" data-score="3">3</div>
                            <div class="matrix-cell risk-medium" data-l="1" data-s="4" data-score="4">4</div>
                            <div class="matrix-cell risk-medium" data-l="1" data-s="5" data-score="5">5</div>
                        </div>

                        <div id="riskResult" class="risk-result" style="display: none;">
                            <span id="riskResultText"></span>
                        </div>
                    </div>

                    <input type="hidden" id="kolom10_likelihood" name="likelihood">
                    <input type="hidden" id="kolom11_severity" name="severity">
                    <input type="hidden" id="riskScore" name="riskScore">
                    <input type="hidden" id="riskLevel" name="riskLevel">

                    <!-- KOLOM 12-14: Penilaian Risiko Awal -->
                    <div class="section-header">
                        <h2>üìä Kolom 12-14: Penilaian Risiko Awal</h2>
                        <p>Tentukan tingkat kemungkinan dan konsekuensi untuk menghitung risiko</p>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div class="form-group">
                            <label>Kolom 12: Nilai Kemungkinan (Likelihood) <span class="required">*</span></label>
                            <select class="form-control" id="kolom12_kemungkinan" required onchange="calculateRisk()">
                                <option value="">-- Pilih --</option>
                                <option value="1">1 - Sangat Jarang (Hampir tidak pernah terjadi)</option>
                                <option value="2">2 - Jarang (Terjadi dalam kondisi tertentu)</option>
                                <option value="3">3 - Kadang-kadang (Mungkin terjadi)</option>
                                <option value="4">4 - Sering (Kemungkinan besar terjadi)</option>
                                <option value="5">5 - Sangat Sering (Hampir pasti terjadi)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Kolom 13: Nilai Konsekuensi (Consequence) <span class="required">*</span></label>
                            <select class="form-control" id="kolom13_konsekuensi" required onchange="calculateRisk()">
                                <option value="">-- Pilih --</option>
                                <option value="1">1 - Tidak Signifikan (Cedera ringan)</option>
                                <option value="2">2 - Minor (Cedera sedang, P3K)</option>
                                <option value="3">3 - Moderate (Cedera berat, rawat inap)</option>
                                <option value="4">4 - Major (Cacat permanen)</option>
                                <option value="5">5 - Catastrophic (Fatality/kematian)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Kolom 14: Nilai & Tingkat Risiko (Auto-calculated)</label>
                        <div style="display: flex; gap: 15px; align-items: center;">
                            <input type="text" class="form-control" id="kolom14_nilai_risiko" readonly
                                style="max-width: 100px; font-weight: 700; font-size: 18px; text-align: center;">
                            <span id="kolom14_tingkat_risiko"
                                style="padding: 8px 20px; border-radius: 6px; font-weight: 700; font-size: 14px;">
                                -
                            </span>
                        </div>
                    </div>

                    <!-- KOLOM 15: Peraturan Perundangan -->
                    <div class="section-header">
                        <h2>üìú Kolom 15: Peraturan Perundangan Terkait</h2>
                        <p>Sebutkan regulasi atau peraturan yang relevan</p>
                    </div>

                    <div class="form-group">
                        <label>Peraturan Perundangan</label>
                        <textarea class="form-control" id="kolom15_peraturan"
                            placeholder="Contoh: UU No. 1 Tahun 1970, PP No. 50 Tahun 2012, dll..."></textarea>
                    </div>

                    <!-- KOLOM 16: Aspek Lingkungan Penting (Lingkungan only) -->
                    <div class="section-header" id="kolom16_section" style="display: none;">
                        <h2>üåø Kolom 16: Aspek Lingkungan Penting</h2>
                        <p>Tentukan apakah aspek lingkungan ini penting atau tidak</p>
                    </div>

                    <div class="form-group" id="kolom16_container" style="display: none;">
                        <label>Aspek Lingkungan Penting?</label>
                        <div style="display: flex; gap: 20px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="radio" name="kolom16_penting" value="P">
                                <span>P - Penting</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="radio" name="kolom16_penting" value="TP">
                                <span>TP - Tidak Penting</span>
                            </label>
                        </div>
                    </div>

                    <!-- KOLOM 17: Risiko & Peluang -->
                    <div class="section-header">
                        <h2>üí° Kolom 17: Risiko & Peluang</h2>
                        <p>Identifikasi risiko dan peluang untuk perbaikan</p>
                    </div>

                    <div class="form-group">
                        <label>Risiko & Peluang</label>
                        <textarea class="form-control" id="kolom17_risiko_peluang"
                            placeholder="Jelaskan risiko yang perlu dimitigasi dan peluang untuk improvement..."></textarea>
                    </div>

                    <!-- KOLOM 18: Risiko Dapat Ditoleransi -->
                    <div class="section-header">
                        <h2>‚öñÔ∏è Kolom 18: Risiko Dapat Ditoleransi?</h2>
                        <p>Tentukan apakah risiko dapat diterima atau perlu tindakan lanjut</p>
                    </div>

                    <div class="form-group">
                        <label>Risiko Dapat Ditoleransi? <span class="required">*</span></label>
                        <div style="display: flex; gap: 20px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="radio" name="kolom18_toleransi" value="Ya" required>
                                <span>Ya - Risiko dapat diterima</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="radio" name="kolom18_toleransi" value="Tidak" required>
                                <span>Tidak - Perlu tindakan lanjut</span>
                            </label>
                        </div>
                    </div>

                    <!-- KOLOM 19: Pengendalian Tindak Lanjut -->
                    <div class="section-header">
                        <h2>üéØ Kolom 19: Pengendalian Tindak Lanjut</h2>
                        <p>Rencana tindakan untuk mengendalikan risiko</p>
                    </div>

                    <div class="form-group">
                        <label>Pengendalian Tindak Lanjut <span class="required">*</span></label>
                        <textarea class="form-control" id="kolom19_tindak_lanjut" required
                            placeholder="Jelaskan rencana tindakan yang akan dilakukan untuk mengendalikan risiko..."></textarea>
                    </div>

                    <!-- KOLOM 20-22: Penilaian Risiko Ulang (Residual Risk) -->
                    <div class="section-header">
                        <h2>üîÑ Kolom 20-22: Penilaian Risiko Ulang (Residual Risk)</h2>
                        <p>Penilaian ulang setelah pengendalian diterapkan</p>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div class="form-group">
                            <label>Kolom 20: Nilai Kemungkinan Ulang <span class="required">*</span></label>
                            <select class="form-control" id="kolom20_kemungkinan" required
                                onchange="calculateResidualRisk()">
                                <option value="">-- Pilih --</option>
                                <option value="1">1 - Sangat Jarang</option>
                                <option value="2">2 - Jarang</option>
                                <option value="3">3 - Kadang-kadang</option>
                                <option value="4">4 - Sering</option>
                                <option value="5">5 - Sangat Sering</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Kolom 21: Nilai Konsekuensi Ulang <span class="required">*</span></label>
                            <select class="form-control" id="kolom21_konsekuensi" required
                                onchange="calculateResidualRisk()">
                                <option value="">-- Pilih --</option>
                                <option value="1">1 - Tidak Signifikan</option>
                                <option value="2">2 - Minor</option>
                                <option value="3">3 - Moderate</option>
                                <option value="4">4 - Major</option>
                                <option value="5">5 - Catastrophic</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Kolom 22: Nilai Risiko Residual (Auto-calculated)</label>
                        <div style="display: flex; gap: 15px; align-items: center;">
                            <input type="text" class="form-control" id="kolom22_nilai_risiko" readonly
                                style="max-width: 100px; font-weight: 700; font-size: 18px; text-align: center;">
                            <span id="kolom22_tingkat_risiko"
                                style="padding: 8px 20px; border-radius: 6px; font-weight: 700; font-size: 14px;">
                                -
                            </span>
                        </div>
                    </div>

                    <!-- Form Actions -->
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="saveDraft()">
                            <i class="fas fa-save"></i> Simpan Draft
                        </button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i> Kirim untuk Review
                        </button>
                    </div>
                </form>
            </div>
        </main>
    </div>

    <script>
        function logout() {
            if (confirm('Apakah Anda yakin ingin keluar?')) {
                alert('Anda telah keluar dari sistem');
                // In real app, redirect to login page
            }
        }

        // Activity options for each business process
        const activityOptions = {
            'PERPUSTAKAAN': [
                'Menggunakan Komputer',
                'Menggunakan AC/pendingin ruangan',
                'Menggunakan lampu',
                'Menggunakan kertas',
                'Menggunakan AC (Freon)'
            ],
            'LABORATORIUM': [
                'Menggunakan bahan kimia B3',
                'Mengoperasikan mesin X Ray',
                'Mengoperasikan mesin mixer',
                'Melakukan uji tekan',
                'Pengambilan sampel',
                'Preparasi sampel',
                'Penyimpanan sampel',
                'Penyerahan sampel kepihak ketiga'
            ],
            'LISTRIK': [
                'Mengoperasikan genset',
                'Mengoperasikan chiller/cooler',
                'Inspeksi di area lift',
                'Maintenance peralatan'
            ],
            'SATPAM': [
                'Pengaturan kendaraan keluar masuk',
                'Kegiatan Pengamanan',
                'Patroli Keamanan'
            ],
            'PRODUKSI': [
                'Mengoperasikan transport raw material',
                'Mengoperasikan raw mill',
                'Inspeksi di area transport raw material',
                'Inspeksi di area raw mill',
                'Pemembusian kebutuhan air slide dan cooling tower',
                'Mengoperasikan transport raw coal',
                'Mengoperasikan coal mill',
                'Inspeksi di area transport raw coal',
                'Inspeksi di area Coal Mill',
                'Penanganan change overgate macet',
                'Mengoperasikan kiln feed',
                'Mengoperasikan kiln saat heating up',
                'Mengoperasikan kiln saat feeding to',
                'Mengoperasikan cooler',
                'Mengoperasikan kiln transport',
                'Pembersihan impeller fan',
                'Inspeksi di area kiln',
                'Inspeksi di area cooler',
                'Inspeksi di area klinker transport'
            ],
            'SAAT OVERHAUL': [
                'Pengurasan pulverized coal bin',
                'Pengurasan material di apron feeder',
                'Bongkar pasang batu tahan api/brick',
                'Bongkar pasang castable'
            ],
            'SAAT TROUBLE SHOOTING': [
                'Perbaikan drag chain yang putus',
                'Perbaikan lamella apron feeder',
                'Perbaikan besi arrow di bridge scrapper',
                'Perbaikan bearing pulley yang pecah',
                'Perbaikan belt conveyor'
            ],
            'POOL KENDARAAN': [
                'Pengaturan operasional kendaraan',
                'Perawatan kendaraan',
                'Penggantian oli kendaraan',
                'Membersihkan kendaraan'
            ]
        };

        function showActivityOptions() {
            const selectedProcess = document.getElementById('kolom2_proses').value;
            const container = document.getElementById('activity_options_container');
            const checkboxContainer = document.getElementById('activity_checkboxes');

            if (selectedProcess && activityOptions[selectedProcess]) {
                // Show container
                container.classList.remove('hidden');

                // Clear previous checkboxes
                checkboxContainer.innerHTML = '';

                // Create checkboxes for selected process
                const activities = activityOptions[selectedProcess];
                activities.forEach((activity, index) => {
                    const checkboxItem = document.createElement('div');
                    checkboxItem.className = 'checkbox-item';
                    checkboxItem.innerHTML = `
                        <input type="checkbox" id="activity_${index}" name="kolom2_activities" value="${activity}">
                        <label for="activity_${index}">${activity}</label>
                    `;
                    checkboxContainer.appendChild(checkboxItem);
                });
            } else {
                // Hide container if no process selected
                container.classList.add('hidden');
                checkboxContainer.innerHTML = '';
            }
        }

        // Toggle manual input
        function toggleManualInput(kolom) {
            const select = document.getElementById(`${kolom}_proses`) || document.getElementById(`${kolom}_kondisi`);
            const container = document.getElementById(`${kolom}_manual_container`);

            if (select.value === 'manual') {
                container.classList.remove('hidden');
            } else {
                container.classList.add('hidden');
            }
        }

        // Select Bahaya Type (Unsafe Condition or Unsafe Action)
        function selectBahayaType(type) {
            const btnCondition = document.getElementById('btn_unsafe_condition');
            const btnAction = document.getElementById('btn_unsafe_action');
            const conditionOptions = document.getElementById('unsafe_condition_options');
            const actionOptions = document.getElementById('unsafe_action_options');

            if (type === 'condition') {
                btnCondition.classList.add('active');
                btnAction.classList.remove('active');
                conditionOptions.classList.remove('hidden');
                actionOptions.classList.add('hidden');
            } else {
                btnAction.classList.add('active');
                btnCondition.classList.remove('active');
                actionOptions.classList.remove('hidden');
                conditionOptions.classList.add('hidden');
            }
        }

        // Toggle Bahaya Dropdown
        function toggleBahayaDropdown(id) {
            const checkbox = document.getElementById(`bahaya_${id}`) ||
                document.getElementById(`action_${id}`) ||
                document.getElementById(`dampak_${id}`);
            const dropdown = document.getElementById(`dropdown_${id}`);

            if (checkbox && checkbox.checked) {
                dropdown.classList.add('active');
            } else if (dropdown) {
                dropdown.classList.remove('active');
            }
        }

        // Risk Matrix Selection
        const matrixCells = document.querySelectorAll('.matrix-cell');
        const riskResult = document.getElementById('riskResult');
        const riskResultText = document.getElementById('riskResultText');

        matrixCells.forEach(cell => {
            cell.addEventListener('click', function () {
                matrixCells.forEach(c => c.classList.remove('selected'));
                this.classList.add('selected');

                const likelihood = this.dataset.l;
                const severity = this.dataset.s;
                const score = this.dataset.score;

                document.getElementById('kolom10_likelihood').value = likelihood;
                document.getElementById('kolom11_severity').value = severity;
                document.getElementById('riskScore').value = score;

                let level, levelText, levelClass;
                if (score <= 3) {
                    level = 'Rendah';
                    levelText = 'RISIKO RENDAH';
                    levelClass = 'risk-low';
                } else if (score <= 8) {
                    level = 'Sedang';
                    levelText = 'RISIKO SEDANG';
                    levelClass = 'risk-medium';
                } else if (score <= 15) {
                    level = 'Tinggi';
                    levelText = 'RISIKO TINGGI';
                    levelClass = 'risk-high';
                } else {
                    level = 'Sangat Tinggi';
                    levelText = 'RISIKO SANGAT TINGGI';
                    levelClass = 'risk-extreme';
                }

                document.getElementById('riskLevel').value = level;
                riskResult.style.display = 'block';
                riskResult.className = 'risk-result ' + levelClass;
                riskResultText.textContent = `${levelText} (Skor: ${score})`;
            });
        });

        // Calculate Risk (Kolom 12-14)
        function calculateRisk() {
            const likelihood = parseInt(document.getElementById('kolom12_kemungkinan').value);
            const consequence = parseInt(document.getElementById('kolom13_konsekuensi').value);

            if (likelihood && consequence) {
                const riskScore = likelihood * consequence;
                let riskLevel = '';
                let riskColor = '';

                if (riskScore >= 1 && riskScore <= 3) {
                    riskLevel = 'RENDAH';
                    riskColor = '#28a745'; // Green
                } else if (riskScore >= 4 && riskScore <= 9) {
                    riskLevel = 'SEDANG';
                    riskColor = '#ffc107'; // Yellow
                } else if (riskScore >= 10 && riskScore <= 16) {
                    riskLevel = 'TINGGI';
                    riskColor = '#fd7e14'; // Orange
                } else if (riskScore >= 20 && riskScore <= 25) {
                    riskLevel = 'SANGAT TINGGI';
                    riskColor = '#dc3545'; // Red
                }

                document.getElementById('kolom14_nilai_risiko').value = riskScore;
                const tingkatRisiko = document.getElementById('kolom14_tingkat_risiko');
                tingkatRisiko.textContent = riskLevel;
                tingkatRisiko.style.backgroundColor = riskColor;
                tingkatRisiko.style.color = 'white';
            }
        }

        // Calculate Residual Risk (Kolom 20-22)
        function calculateResidualRisk() {
            const likelihood = parseInt(document.getElementById('kolom20_kemungkinan').value);
            const consequence = parseInt(document.getElementById('kolom21_konsekuensi').value);

            if (likelihood && consequence) {
                const riskScore = likelihood * consequence;
                let riskLevel = '';
                let riskColor = '';

                if (riskScore >= 1 && riskScore <= 3) {
                    riskLevel = 'RENDAH';
                    riskColor = '#28a745';
                } else if (riskScore >= 4 && riskScore <= 9) {
                    riskLevel = 'SEDANG';
                    riskColor = '#ffc107';
                } else if (riskScore >= 10 && riskScore <= 16) {
                    riskLevel = 'TINGGI';
                    riskColor = '#fd7e14';
                } else if (riskScore >= 20 && riskScore <= 25) {
                    riskLevel = 'SANGAT TINGGI';
                    riskColor = '#dc3545';
                }

                document.getElementById('kolom22_nilai_risiko').value = riskScore;
                const tingkatRisiko = document.getElementById('kolom22_tingkat_risiko');
                tingkatRisiko.textContent = riskLevel;
                tingkatRisiko.style.backgroundColor = riskColor;
                tingkatRisiko.style.color = 'white';
            }
        }

        // Save Draft
        function saveDraft() {
            alert('Draft berhasil disimpan!\n\nAnda dapat melanjutkan pengisian nanti.');
        }
    </script>
</body>

</html>